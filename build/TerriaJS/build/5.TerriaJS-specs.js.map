{"version":3,"sources":["webpack:///./lib/ReactViews/Tools/DiffTool/DiffTool.tsx","webpack:///./lib/ReactViews/Tools/DiffTool/DatePicker.tsx","webpack:///./lib/ReactViews/Tools/DiffTool/LocationPicker.tsx","webpack:///./wwwroot/images/difference-pin.png"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","_dec","_class","_class2","_descriptor","_descriptor2","_descriptor3","_class3","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_class4","_class5","_descriptor4","_descriptor5","_descriptor6","_styledComponents","_interopRequireWildcard","_hoistNonReactStatics","_interopRequireDefault","_mobx","_mobxReact","_react","_reactDom","_reactI18next","_Cartographic","_createGuid","_Math","_SplitDirection","_filterOutUndefined","_isDefined","_prettifyCoordinates2","_DiffableMixin","_MappableMixin","_CommonStrata","_hasTraits","_LocationMarkerUtils","_SplitItemReference","_Box","_Button","_Select","_Spacing","_Text","_ImageryProviderTraits","_parseCustomMarkdownToReact","_Icon","_Loader","_DatePicker","_LocationPicker","_registerMapNavigations","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","this","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","result","__await","then","unwrapped","error","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_i","_s","_e","_x","_r","_arr","_n","_d","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","toString","from","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","_initializerDefineProperty","property","descriptor","initializer","_classCallCheck","instance","Constructor","_defineProperties","props","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","p","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_defineProperty","input","hint","prim","toPrimitive","res","String","Number","_toPrimitive","_applyDecoratedDescriptor","decorators","reduce","decorator","dateFormat","DiffTool","action","bound","observer","_React$Component","_createSplitterItems","_super","_this","makeObservable","userSelectedSourceItem","sourceItem","_callee","_yield$Promise$all","_yield$Promise$all2","leftItem","rightItem","_this2","_context","all","createSplitItem","LEFT","RIGHT","runInAction","t0","removeSplitItem","_this3","splitterItemsDisposer","reaction","removeSplitterItems","createSplitterItems","fireImmediately","viewState","terria","originalSettings","showSplitter","isMapFullScreen","setIsMapFullScreen","setTrait","user","mapNavigationModel","show","CLOSE_TOOL_ID","elements","visible","closeTool","findItem","controller","activate","_this$splitterItemsDi","hide","deactivate","enterDiffTool","leaveDiffTool","createElement","Main","theme","changeSourceItem","Component","observable","computed","_React$Component2","_setLocationFromActiveSearch","_super2","_this4","createRef","t","_locationPickError","title","beforePick","afterPick","location","longitude","latitude","digits","firstDate","leftDate","secondDate","rightDate","d1","d2","concat","workbench","items","filter","item","isMixedInto","canDiffImages","_this$diffItem$styleS","diffItem","styleSelectableDimensions","selectedId","diffStyleId","_this5","availableDiffStyles","map","_this5$diffItem$style","options","find","style","id","currentDiscreteJulianDate","diffStyle","getLegendUrlForStyle","previewStyle","model","hasOpacity","newSourceItem","diffableItemsInWorkbench","uniqueId","_this$props$leftItem$","_this$props$rightItem","styleId","setDimensionValue","pickingLocation","_isPickingNewLocation","pickedFeatures","pickedLocation","_this$props","feature","features","f","doesFeatureBelongToItem","setTimeFilterFeature","providerCoords","_this$props2","hideItem","overlays","remove","add","diffItemName","showDiffImage","clearDiffImage","setDefaultDiffStyle","_callee2","markerLocation","part","imageryProvider","promises","_this6","_context2","getMarkerLocation","mapItems","ImageryParts","is","setTimeFilterFromLocation","some","ok","removeMarker","_this7","_this7$diffItem$timeF","timeFilterCoordinates","height","setLocationFromActiveSearch","_this$diffItem$styleS2","_this8","_this$props3","isShowingDiff","datesSelected","isReadyToGenerateDiff","large","DiffAccordion","MainPanel","styledMaxHeight","bottomDockHeight","Fragment","centered","left","_StyledBackButton","transparentBg","onClick","resetTool","$_css","textLight","$_css2","BoxSpan","_StyledStyledIcon","light","styledWidth","glyph","GLYPHS","arrowDown","TextSpan","noFontSize","bottom","medium","LocationAndDatesDisplayBox","textLightDimmed","small","column","alignItemsFlexStart","RawButton","ref","openLeftDatePickerButton","isLink","openRightDatePickerButton","unsetDates","Selector","onChange","label","disabled","spacingBottom","changePreviewStyle","previewLegendUrl","LegendImage","width","src","changeDiffStyle","diffLegendUrl","GenerateButton","generateDiff","CloseDifferenceButton","primary","rounded","textProps","semiBold","extraLarge","activeStyles","renderIcon","StyledIcon","closeLight","iconProps","css","onPicking","onUserPickingLocation","onPicked","onUserPickLocation","createPortal","fullWidth","flexWrap","backgroundColor","dark","heading","externalOpenButton","onDateSet","showItem","AreaFilterSelection","isPickingNewLocation","document","getElementById","DiffAccordionToggle","withConfig","componentId","_ref","borderRadiusTop","radius40Button","_useState2","useState","showChildren","setShowChildren","useTheme","DiffAccordionWrapper","paddedVertically","paddedHorizontally","justifySpaceBetween","colorSecondary","difference","right","styledFontSize","styledLineHeight","_StyledBox","$_css3","uppercase","paddedRatio","opened","closed","children","attrs","position","parseInt","workbenchWidth","overflowY","_ref2","borderRadiusBottom","darkWithOverlay","BackButton","secondary","splitter","_StyledText","$_css4","parseCustomMarkdownToReactWithOptions","injectTermsAsTooltips","tooltipTerms","configParameters","helpContentTerms","locationText","_prettifyCoordinates","_StyledBox2","styledMinWidth","location2","styledMinHeight","_StyledText2","extraExtraLarge","bold","message","textAlignCenter","charcoalGreyBg","display","marginTop","onLoad","onError","_x2","_x3","_createSplitItem","_callee3","splitDirection","_context3","addModel","loadReference","_newItem$styleSelecta","newItem","_newItem$styleSelecta2","trueColor","search","availableStyles","_item$styleSelectable","sourceReference","contains","removeModelReferences","_feature$imageryLayer","imageryLayer","m","im","carto","toRadians","tile","tilingScheme","positionToTileXY","tileCoords","x","y","level","_default","withTranslation","withTheme","md","_ref3","_JulianDate","_DateFormats","_DateTimePicker","DatePicker","date","toDate","currentDate","formatDateTime","isOpen","stopPropagation","toISOString","moveToPreviousDiscreteTime","moveToNextDiscreteTime","event","setIsOpen","_this$props$externalO","current","addEventListener","onClickExternalButton","_externalOpenButton$c","removeEventListener","registerExternalButtonClick","prevProps","unregisterExternalButtonClick","flex","calendar2","PrevButton","isPreviousDiscreteTimeAvailable","moveToPreviousDate","DateButton","toggleOpen","formattedCurrentDate","NextButton","isNextDiscreteTimeAvailable","moveToNextDate","dates","objectifiedDates","changeCurrentDate","openDirection","onOpen","onClose","PagerButton","colorPrimary","centerWithFlex","_StyledStyledIcon2","borderRadiusLeft","_StyledStyledIcon3","borderRadiusRight","lg","_Ellipsoid","_MapInteractionMode","LocationPicker","pickMode","messageAsNode","uiMode","UIMode","Difference","mode","mapInteractionModeStack","addInteractionModeToMap","showMarker","pickDisposer","newPick","_newPick$allFeaturesA","pickPosition","customUi","cartesian","WGS84","cartesianToCartographic","toDegrees","currentPick","allFeaturesAvailablePromise","_this$pickDisposer","removeInteractionModeFromMap","setupPicker","destroyPicker","addMarker","customMarkerIcon","module"],"mappings":"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","file":"5.TerriaJS-specs.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nrequire(\"core-js/modules/es.array.for-each.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.array.reverse.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.object.set-prototype-of.js\");\nrequire(\"core-js/modules/es.function.bind.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.object.create.js\");\nrequire(\"core-js/modules/es.array.is-array.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.date.to-string.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.symbol.async-iterator.js\");\nrequire(\"core-js/modules/es.symbol.to-string-tag.js\");\nrequire(\"core-js/modules/es.json.to-string-tag.js\");\nrequire(\"core-js/modules/es.math.to-string-tag.js\");\nrequire(\"core-js/modules/es.object.assign.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.array.some.js\");\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.search.js\");\nvar _styledComponents = _interopRequireWildcard(require(\"styled-components\"));\nvar _hoistNonReactStatics = _interopRequireDefault(require(\"hoist-non-react-statics\"));\nvar _mobx = require(\"mobx\");\nvar _mobxReact = require(\"mobx-react\");\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _reactI18next = require(\"react-i18next\");\nvar _Cartographic = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Cartographic\"));\nvar _createGuid = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/createGuid\"));\nvar _Math = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Math\"));\nvar _SplitDirection = _interopRequireDefault(require(\"terriajs-cesium/Source/Scene/SplitDirection\"));\nvar _filterOutUndefined = _interopRequireDefault(require(\"../../../Core/filterOutUndefined\"));\nvar _isDefined = _interopRequireDefault(require(\"../../../Core/isDefined\"));\nvar _prettifyCoordinates2 = _interopRequireDefault(require(\"../../../Map/Vector/prettifyCoordinates\"));\nvar _DiffableMixin = _interopRequireDefault(require(\"../../../ModelMixins/DiffableMixin\"));\nvar _MappableMixin = _interopRequireWildcard(require(\"../../../ModelMixins/MappableMixin\"));\nvar _CommonStrata = _interopRequireDefault(require(\"../../../Models/Definition/CommonStrata\"));\nvar _hasTraits = _interopRequireDefault(require(\"../../../Models/Definition/hasTraits\"));\nvar _LocationMarkerUtils = require(\"../../../Models/LocationMarkerUtils\");\nvar _SplitItemReference = _interopRequireDefault(require(\"../../../Models/Catalog/CatalogReferences/SplitItemReference\"));\nvar _Box = _interopRequireWildcard(require(\"../../../Styled/Box\"));\nvar _Button = _interopRequireWildcard(require(\"../../../Styled/Button\"));\nvar _Select = _interopRequireDefault(require(\"../../../Styled/Select\"));\nvar _Spacing = _interopRequireDefault(require(\"../../../Styled/Spacing\"));\nvar _Text = _interopRequireWildcard(require(\"../../../Styled/Text\"));\nvar _ImageryProviderTraits = _interopRequireDefault(require(\"../../../Traits/TraitsClasses/ImageryProviderTraits\"));\nvar _parseCustomMarkdownToReact = require(\"../../Custom/parseCustomMarkdownToReact\");\nvar _Icon = require(\"../../../Styled/Icon\");\nvar _Loader = _interopRequireDefault(require(\"../../Loader\"));\nvar _DatePicker = _interopRequireDefault(require(\"./DatePicker\"));\nvar _LocationPicker = _interopRequireDefault(require(\"./LocationPicker\"));\nvar _registerMapNavigations = require(\"../../Map/Navigation/registerMapNavigations\");\nvar _dec, _class, _class2, _descriptor, _descriptor2, _descriptor3, _class3, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class4, _class5, _descriptor4, _descriptor5, _descriptor6;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nvar dateFormat = require(\"dateformat\");\nvar DiffTool = (_dec = _mobx.action.bound, (0, _mobxReact.observer)(_class = (_class2 = (_class3 = /*#__PURE__*/function (_React$Component) {\n  _inherits(DiffTool, _React$Component);\n  var _super = _createSuper(DiffTool);\n  function DiffTool(props) {\n    var _this;\n    _classCallCheck(this, DiffTool);\n    _this = _super.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"leftItem\", _descriptor, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"rightItem\", _descriptor2, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"userSelectedSourceItem\", _descriptor3, _assertThisInitialized(_this));\n    _defineProperty(_assertThisInitialized(_this), \"splitterItemsDisposer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"originalSettings\", void 0);\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(DiffTool, [{\n    key: \"sourceItem\",\n    get: function get() {\n      return this.userSelectedSourceItem || this.props.sourceItem;\n    }\n  }, {\n    key: \"changeSourceItem\",\n    value: function changeSourceItem(sourceItem) {\n      this.userSelectedSourceItem = sourceItem;\n    }\n  }, {\n    key: \"createSplitterItems\",\n    value: function () {\n      var _createSplitterItems = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this2 = this;\n        var _yield$Promise$all, _yield$Promise$all2, leftItem, rightItem;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return Promise.all([createSplitItem(this.sourceItem, _SplitDirection[\"default\"].LEFT), createSplitItem(this.sourceItem, _SplitDirection[\"default\"].RIGHT)]);\n            case 3:\n              _yield$Promise$all = _context.sent;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n              leftItem = _yield$Promise$all2[0];\n              rightItem = _yield$Promise$all2[1];\n              (0, _mobx.runInAction)(function () {\n                _this2.leftItem = leftItem;\n                _this2.rightItem = rightItem;\n              });\n              _context.next = 12;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[0, 10]]);\n      }));\n      function createSplitterItems() {\n        return _createSplitterItems.apply(this, arguments);\n      }\n      return createSplitterItems;\n    }()\n  }, {\n    key: \"removeSplitterItems\",\n    value: function removeSplitterItems() {\n      this.leftItem && removeSplitItem(this.leftItem);\n      this.rightItem && removeSplitItem(this.rightItem);\n    }\n  }, {\n    key: \"enterDiffTool\",\n    value: function enterDiffTool() {\n      var _this3 = this;\n      // Start the reaction that splits the sourceItem into left & right items\n      this.splitterItemsDisposer = (0, _mobx.reaction)(function () {\n        return _this3.sourceItem;\n      }, function () {\n        _this3.removeSplitterItems();\n        _this3.createSplitterItems();\n      }, {\n        fireImmediately: true\n      });\n      var viewState = this.props.viewState;\n      var terria = viewState.terria;\n      this.originalSettings = {\n        showSplitter: terria.showSplitter,\n        isMapFullScreen: viewState.isMapFullScreen\n      };\n      terria.showSplitter = true;\n      viewState.setIsMapFullScreen(true);\n      this.sourceItem.setTrait(_CommonStrata[\"default\"].user, \"show\", false);\n      terria.mapNavigationModel.show(_registerMapNavigations.CLOSE_TOOL_ID);\n      terria.elements.set(\"timeline\", {\n        visible: false\n      });\n      var closeTool = terria.mapNavigationModel.findItem(_registerMapNavigations.CLOSE_TOOL_ID);\n      if (closeTool) {\n        closeTool.controller.activate();\n      }\n    }\n  }, {\n    key: \"leaveDiffTool\",\n    value: function leaveDiffTool() {\n      var _this$splitterItemsDi;\n      var viewState = this.props.viewState;\n      var terria = viewState.terria;\n      var originalSettings = this.originalSettings;\n      this.removeSplitterItems();\n      (_this$splitterItemsDi = this.splitterItemsDisposer) === null || _this$splitterItemsDi === void 0 ? void 0 : _this$splitterItemsDi.call(this);\n      terria.showSplitter = originalSettings.showSplitter;\n      viewState.setIsMapFullScreen(originalSettings.isMapFullScreen);\n      this.sourceItem.setTrait(_CommonStrata[\"default\"].user, \"show\", true);\n      terria.mapNavigationModel.hide(_registerMapNavigations.CLOSE_TOOL_ID);\n      terria.elements.set(\"timeline\", {\n        visible: true\n      });\n      var closeTool = terria.mapNavigationModel.findItem(_registerMapNavigations.CLOSE_TOOL_ID);\n      if (closeTool) {\n        closeTool.controller.deactivate();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.enterDiffTool();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.leaveDiffTool();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.leftItem && this.rightItem) {\n        return /*#__PURE__*/_react[\"default\"].createElement(Main, _extends({}, this.props, {\n          theme: this.props.theme,\n          terria: this.props.viewState.terria,\n          sourceItem: this.sourceItem,\n          changeSourceItem: this.changeSourceItem,\n          leftItem: this.leftItem,\n          rightItem: this.rightItem\n        }));\n      } else return null;\n    }\n  }]);\n  return DiffTool;\n}(_react[\"default\"].Component), _defineProperty(_class3, \"toolName\", \"Image Difference\"), _class3), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"leftItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"rightItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"userSelectedSourceItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"sourceItem\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"sourceItem\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"changeSourceItem\", [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, \"changeSourceItem\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"createSplitterItems\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"createSplitterItems\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"removeSplitterItems\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"removeSplitterItems\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"enterDiffTool\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"enterDiffTool\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"leaveDiffTool\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"leaveDiffTool\"), _class2.prototype)), _class2)) || _class);\nvar Main = (_dec2 = _mobx.action.bound, _dec3 = _mobx.action.bound, _dec4 = _mobx.action.bound, _dec5 = _mobx.action.bound, _dec6 = _mobx.action.bound, _dec7 = _mobx.action.bound, _dec8 = _mobx.action.bound, _dec9 = _mobx.action.bound, (0, _mobxReact.observer)(_class4 = (_class5 = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Main, _React$Component2);\n  var _super2 = _createSuper(Main);\n  function Main(props) {\n    var _this4;\n    _classCallCheck(this, Main);\n    _this4 = _super2.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"location\", _descriptor4, _assertThisInitialized(_this4));\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"_locationPickError\", _descriptor5, _assertThisInitialized(_this4));\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"_isPickingNewLocation\", _descriptor6, _assertThisInitialized(_this4));\n    _defineProperty(_assertThisInitialized(_this4), \"openLeftDatePickerButton\", /*#__PURE__*/_react[\"default\"].createRef());\n    _defineProperty(_assertThisInitialized(_this4), \"openRightDatePickerButton\", /*#__PURE__*/_react[\"default\"].createRef());\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this4));\n    return _this4;\n  }\n  _createClass(Main, [{\n    key: \"locationPickerMessages\",\n    get: function get() {\n      var t = this.props.t;\n      if (this._locationPickError) {\n        return {\n          title: t(\"diffTool.locationPicker.errorMessages.title\"),\n          beforePick: t(\"diffTool.locationPicker.errorMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.errorMessages.afterPick\")\n        };\n      } else if (this.location) {\n        return {\n          title: t(\"diffTool.locationPicker.nextMessages.title\", (0, _prettifyCoordinates2[\"default\"])(this.location.longitude, this.location.latitude, {\n            digits: 2\n          })),\n          beforePick: t(\"diffTool.locationPicker.nextMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.nextMessages.afterPick\")\n        };\n      } else {\n        return {\n          title: t(\"diffTool.locationPicker.initialMessages.title\"),\n          beforePick: t(\"diffTool.locationPicker.initialMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.initialMessages.afterPick\")\n        };\n      }\n    }\n  }, {\n    key: \"diffItem\",\n    get: function get() {\n      return this.props.leftItem;\n    }\n  }, {\n    key: \"diffItemName\",\n    get: function get() {\n      var name = this.props.sourceItem.name || \"\";\n      var firstDate = this.leftDate;\n      var secondDate = this.rightDate;\n      var format = \"yyyy/mm/dd\";\n      if (!firstDate || !secondDate) {\n        return name;\n      } else {\n        var d1 = dateFormat(firstDate, format);\n        var d2 = dateFormat(secondDate, format);\n        return \"\".concat(name, \" - difference for dates \").concat(d1, \", \").concat(d2);\n      }\n    }\n  }, {\n    key: \"diffableItemsInWorkbench\",\n    get: function get() {\n      return this.props.terria.workbench.items.filter(function (item) {\n        return _DiffableMixin[\"default\"].isMixedInto(item) && item.canDiffImages;\n      });\n    }\n  }, {\n    key: \"previewStyle\",\n    get: function get() {\n      var _this$diffItem$styleS;\n      return (_this$diffItem$styleS = this.diffItem.styleSelectableDimensions) === null || _this$diffItem$styleS === void 0 || (_this$diffItem$styleS = _this$diffItem$styleS[0]) === null || _this$diffItem$styleS === void 0 ? void 0 : _this$diffItem$styleS.selectedId;\n    }\n  }, {\n    key: \"diffStyle\",\n    get: function get() {\n      return this.diffItem.diffStyleId;\n    }\n  }, {\n    key: \"availableDiffStyles\",\n    get: function get() {\n      var _this5 = this;\n      return (0, _filterOutUndefined[\"default\"])(this.diffItem.availableDiffStyles.map(function (diffStyleId) {\n        var _this5$diffItem$style;\n        return (_this5$diffItem$style = _this5.diffItem.styleSelectableDimensions) === null || _this5$diffItem$style === void 0 || (_this5$diffItem$style = _this5$diffItem$style[0]) === null || _this5$diffItem$style === void 0 || (_this5$diffItem$style = _this5$diffItem$style.options) === null || _this5$diffItem$style === void 0 ? void 0 : _this5$diffItem$style.find(function (style) {\n          return style.id === diffStyleId;\n        });\n      }));\n    }\n  }, {\n    key: \"leftDate\",\n    get: function get() {\n      return this.props.leftItem.currentDiscreteJulianDate;\n    }\n  }, {\n    key: \"rightDate\",\n    get: function get() {\n      return this.props.rightItem.currentDiscreteJulianDate;\n    }\n  }, {\n    key: \"diffLegendUrl\",\n    get: function get() {\n      return this.diffStyle && this.leftDate && this.rightDate && this.diffItem.getLegendUrlForStyle(this.diffStyle, this.leftDate, this.rightDate);\n    }\n  }, {\n    key: \"previewLegendUrl\",\n    get: function get() {\n      return this.previewStyle && this.diffItem.getLegendUrlForStyle(this.previewStyle);\n    }\n  }, {\n    key: \"showItem\",\n    value: function showItem(model) {\n      // We change the opacity instead of setting `show` to true/false, because\n      // we want the item to be on the map for date selection to work\n      hasOpacity(model) && model.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0.8);\n    }\n  }, {\n    key: \"hideItem\",\n    value: function hideItem(model) {\n      // We change the opacity instead of setting `show` to true/false, because\n      // we want the item to be on the map for date selection to work\n      hasOpacity(model) && model.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0);\n    }\n  }, {\n    key: \"changeSourceItem\",\n    value: function changeSourceItem(e) {\n      var newSourceItem = this.diffableItemsInWorkbench.find(function (item) {\n        return item.uniqueId === e.target.value;\n      });\n      if (newSourceItem) this.props.changeSourceItem(newSourceItem);\n    }\n  }, {\n    key: \"changePreviewStyle\",\n    value: function changePreviewStyle(e) {\n      var _this$props$leftItem$, _this$props$rightItem;\n      var styleId = e.target.value;\n      (_this$props$leftItem$ = this.props.leftItem.styleSelectableDimensions) === null || _this$props$leftItem$ === void 0 || (_this$props$leftItem$ = _this$props$leftItem$[0]) === null || _this$props$leftItem$ === void 0 ? void 0 : _this$props$leftItem$.setDimensionValue(_CommonStrata[\"default\"].user, styleId);\n      (_this$props$rightItem = this.props.rightItem.styleSelectableDimensions) === null || _this$props$rightItem === void 0 || (_this$props$rightItem = _this$props$rightItem[0]) === null || _this$props$rightItem === void 0 ? void 0 : _this$props$rightItem.setDimensionValue(_CommonStrata[\"default\"].user, styleId);\n    }\n  }, {\n    key: \"changeDiffStyle\",\n    value: function changeDiffStyle(e) {\n      this.diffItem.setTrait(_CommonStrata[\"default\"].user, \"diffStyleId\", e.target.value);\n    }\n  }, {\n    key: \"onUserPickingLocation\",\n    value: function onUserPickingLocation(pickingLocation) {\n      this._isPickingNewLocation = true;\n    }\n  }, {\n    key: \"onUserPickLocation\",\n    value: function onUserPickLocation(pickedFeatures, pickedLocation) {\n      var _this$props = this.props,\n        leftItem = _this$props.leftItem,\n        rightItem = _this$props.rightItem,\n        t = _this$props.t;\n      var feature = pickedFeatures.features.find(function (f) {\n        return doesFeatureBelongToItem(f, leftItem) || doesFeatureBelongToItem(f, rightItem);\n      });\n      if (feature) {\n        leftItem.setTimeFilterFeature(feature, pickedFeatures.providerCoords);\n        rightItem.setTimeFilterFeature(feature, pickedFeatures.providerCoords);\n        this.location = pickedLocation;\n        this._locationPickError = false;\n      } else {\n        this._locationPickError = true;\n      }\n      this._isPickingNewLocation = false;\n    }\n  }, {\n    key: \"unsetDates\",\n    value: function unsetDates() {\n      var _this$props2 = this.props,\n        leftItem = _this$props2.leftItem,\n        rightItem = _this$props2.rightItem;\n      leftItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n      rightItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n      this.hideItem(leftItem);\n      this.hideItem(rightItem);\n    }\n  }, {\n    key: \"generateDiff\",\n    value: function generateDiff() {\n      if (this.leftDate === undefined || this.rightDate === undefined || this.diffStyle === undefined) {\n        return;\n      }\n      var terria = this.props.terria;\n      terria.overlays.remove(this.props.leftItem);\n      terria.overlays.remove(this.props.rightItem);\n      terria.workbench.add(this.diffItem);\n      this.diffItem.setTrait(_CommonStrata[\"default\"].user, \"name\", this.diffItemName);\n      this.diffItem.showDiffImage(this.leftDate, this.rightDate, this.diffStyle);\n      terria.showSplitter = false;\n    }\n  }, {\n    key: \"resetTool\",\n    value: function resetTool() {\n      var terria = this.props.terria;\n      this.diffItem.clearDiffImage();\n      setDefaultDiffStyle(this.diffItem);\n      terria.overlays.add(this.props.leftItem);\n      terria.overlays.add(this.props.rightItem);\n      terria.workbench.remove(this.diffItem);\n      this.props.terria.showSplitter = true;\n      this.props.leftItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", _SplitDirection[\"default\"].LEFT);\n      this.props.rightItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", _SplitDirection[\"default\"].RIGHT);\n    }\n  }, {\n    key: \"setLocationFromActiveSearch\",\n    value: function () {\n      var _setLocationFromActiveSearch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _this6 = this;\n        var markerLocation, sourceItem, part, imageryProvider, promises, someSuccessful;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              // Look for any existing marker like from a search result and filter\n              // imagery at that location\n              markerLocation = (0, _LocationMarkerUtils.getMarkerLocation)(this.props.terria);\n              sourceItem = this.props.sourceItem;\n              if (!(markerLocation && _MappableMixin[\"default\"].isMixedInto(sourceItem))) {\n                _context2.next = 11;\n                break;\n              }\n              part = sourceItem.mapItems.find(function (p) {\n                return _MappableMixin.ImageryParts.is(p);\n              });\n              imageryProvider = part && _MappableMixin.ImageryParts.is(part) && part.imageryProvider;\n              if (!imageryProvider) {\n                _context2.next = 11;\n                break;\n              }\n              promises = [setTimeFilterFromLocation(this.props.leftItem, markerLocation, imageryProvider), setTimeFilterFromLocation(this.props.rightItem, markerLocation, imageryProvider)];\n              _context2.next = 9;\n              return Promise.all(promises);\n            case 9:\n              someSuccessful = _context2.sent.some(function (ok) {\n                return ok;\n              });\n              if (someSuccessful) {\n                (0, _mobx.runInAction)(function () {\n                  return _this6.location = markerLocation;\n                });\n              } else {\n                // If we cannot resolve imagery at the marker location, remove it\n                (0, _LocationMarkerUtils.removeMarker)(this.props.terria);\n              }\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function setLocationFromActiveSearch() {\n        return _setLocationFromActiveSearch.apply(this, arguments);\n      }\n      return setLocationFromActiveSearch;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this7 = this;\n      (0, _mobx.runInAction)(function () {\n        if (_this7.location === undefined) {\n          var _this7$diffItem$timeF = _this7.diffItem.timeFilterCoordinates,\n            latitude = _this7$diffItem$timeF.latitude,\n            longitude = _this7$diffItem$timeF.longitude,\n            height = _this7$diffItem$timeF.height;\n          if (latitude !== undefined && longitude !== undefined) {\n            _this7.location = {\n              latitude: latitude,\n              longitude: longitude,\n              height: height\n            };\n            // remove any active search location marker to avoid showing two markers\n            (0, _LocationMarkerUtils.removeMarker)(_this7.props.terria);\n          } else {\n            _this7.setLocationFromActiveSearch();\n          }\n        }\n      });\n    }\n\n    // i want to restructure the render so that there's 2 distinct \"showing diff\"\n    // or not states, right now intertwining them means way too many conditionals\n    // that confuse the required spacing etc.\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$diffItem$styleS2,\n        _this8 = this;\n      var _this$props3 = this.props,\n        terria = _this$props3.terria,\n        viewState = _this$props3.viewState,\n        sourceItem = _this$props3.sourceItem,\n        t = _this$props3.t,\n        theme = _this$props3.theme;\n      var isShowingDiff = this.diffItem.isShowingDiff;\n      var datesSelected = this.leftDate && this.rightDate;\n      var isReadyToGenerateDiff = this.location && datesSelected && this.diffStyle !== undefined;\n      return /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        large: true\n      }, /*#__PURE__*/_react[\"default\"].createElement(DiffAccordion, {\n        viewState: viewState,\n        t: t\n      }, /*#__PURE__*/_react[\"default\"].createElement(MainPanel, {\n        isMapFullScreen: viewState.isMapFullScreen,\n        styledMaxHeight: \"calc(100vh - \".concat(viewState.bottomDockHeight, \"px - 150px)\")\n      }, isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n        centered: true,\n        left: true\n      }, /*#__PURE__*/_react[\"default\"].createElement(_StyledBackButton, {\n        transparentBg: true,\n        onClick: this.resetTool,\n        $_css: theme.textLight,\n        $_css2: theme.textLight\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Box.BoxSpan, {\n        centered: true\n      }, /*#__PURE__*/_react[\"default\"].createElement(_StyledStyledIcon, {\n        light: true,\n        styledWidth: \"16px\",\n        glyph: _Icon.GLYPHS.arrowDown\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        noFontSize: true\n      }, t(\"general.back\"))))), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 3\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        medium: true,\n        textLight: true\n      }, t(\"diffTool.differenceResultsTitle\")), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 2\n      })), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        textLight: true\n      }, t(\"diffTool.instructions.paneDescription\")), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 3\n      }), /*#__PURE__*/_react[\"default\"].createElement(LocationAndDatesDisplayBox, null, /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        medium: true\n      }, t(\"diffTool.labels.area\"), \":\"), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        medium: true,\n        textLightDimmed: !this.location\n      }, this.location ? t(\"diffTool.locationDisplay.locationSelected.title\") : t(\"diffTool.locationDisplay.noLocationSelected.title\")), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        light: true,\n        textLight: true,\n        small: true\n      }, this.location ? t(\"diffTool.locationDisplay.locationSelected.description\") : t(\"diffTool.locationDisplay.noLocationSelected.description\")))), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        medium: true\n      }, t(\"diffTool.labels.dates\"), \":\"), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n        column: true,\n        alignItemsFlexStart: true\n      }, this.leftDate && /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        large: true\n      }, \"(A) \", dateFormat(this.leftDate, \"dd/mm/yyyy\")), !this.leftDate && /*#__PURE__*/_react[\"default\"].createElement(_Button.RawButton, {\n        ref: this.openLeftDatePickerButton\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        isLink: true,\n        small: true\n      }, t(\"diffTool.instructions.setDateA\"))), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 1\n      }), this.rightDate && /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        large: true\n      }, \"(B) \", dateFormat(this.rightDate, \"dd/mm/yyyy\")), !this.rightDate && /*#__PURE__*/_react[\"default\"].createElement(_Button.RawButton, {\n        ref: this.openRightDatePickerButton\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        isLink: true,\n        small: true\n      }, t(\"diffTool.instructions.setDateB\"))), isShowingDiff === false && this.leftDate && this.rightDate && /*#__PURE__*/_react[\"default\"].createElement(_Button.RawButton, {\n        onClick: this.unsetDates\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        isLink: true,\n        small: true\n      }, t(\"diffTool.instructions.changeDates\")))))), !isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }), /*#__PURE__*/_react[\"default\"].createElement(Selector, {\n        viewState: viewState,\n        value: sourceItem.uniqueId,\n        onChange: this.changeSourceItem,\n        label: t(\"diffTool.labels.sourceDataset\")\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n        disabled: true\n      }, \"Select source item\"), this.diffableItemsInWorkbench.map(function (item) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n          key: item.uniqueId,\n          value: item.uniqueId\n        }, item.name);\n      }))), !isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }), /*#__PURE__*/_react[\"default\"].createElement(Selector, {\n        viewState: viewState,\n        spacingBottom: true,\n        value: this.previewStyle,\n        onChange: this.changePreviewStyle,\n        label: t(\"diffTool.labels.previewStyle\")\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n        disabled: true,\n        value: \"\"\n      }, t(\"diffTool.choosePreview\")), (_this$diffItem$styleS2 = this.diffItem.styleSelectableDimensions) === null || _this$diffItem$styleS2 === void 0 || (_this$diffItem$styleS2 = _this$diffItem$styleS2[0]) === null || _this$diffItem$styleS2 === void 0 || (_this$diffItem$styleS2 = _this$diffItem$styleS2.options) === null || _this$diffItem$styleS2 === void 0 ? void 0 : _this$diffItem$styleS2.map(function (style) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n          key: style.id,\n          value: style.id\n        }, style.name);\n      })), this.previewLegendUrl && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 2\n      }), /*#__PURE__*/_react[\"default\"].createElement(LegendImage, {\n        width: \"100%\",\n        src: this.previewLegendUrl\n      }))), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 2\n      }), /*#__PURE__*/_react[\"default\"].createElement(Selector, {\n        viewState: viewState,\n        value: this.diffStyle || \"\",\n        onChange: this.changeDiffStyle,\n        label: t(\"diffTool.labels.differenceOutput\")\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n        disabled: true,\n        value: \"\"\n      }, t(\"diffTool.chooseDifference\")), this.availableDiffStyles.map(function (style) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n          key: style.id,\n          value: style.id\n        }, style.name);\n      })), isShowingDiff && this.diffLegendUrl && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(LegendImage, {\n        width: \"100%\",\n        src: this.diffLegendUrl\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      })), !isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }), /*#__PURE__*/_react[\"default\"].createElement(GenerateButton, {\n        onClick: this.generateDiff,\n        disabled: !isReadyToGenerateDiff,\n        \"aria-describedby\": \"TJSDifferenceDisabledButtonPrompt\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        large: true\n      }, t(\"diffTool.labels.generateDiffButtonText\"))), !isReadyToGenerateDiff && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 3\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        small: true,\n        light: true,\n        textLight: true,\n        id: \"TJSDifferenceDisabledButtonPrompt\"\n      }, t(\"diffTool.labels.disabledButtonPrompt\")), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }))))), isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(CloseDifferenceButton, {\n        primary: true,\n        rounded: true,\n        textProps: {\n          semiBold: true,\n          extraLarge: true\n        },\n        theme: theme,\n        activeStyles: true,\n        onClick: this.resetTool,\n        renderIcon: function renderIcon() {\n          return /*#__PURE__*/_react[\"default\"].createElement(_Icon.StyledIcon, {\n            light: true,\n            styledWidth: \"13px\",\n            glyph: _Icon.GLYPHS.closeLight\n          });\n        },\n        iconProps: {\n          css: \"margin-right: 10px;\"\n        }\n      }, \"Close\"), !isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(_LocationPicker[\"default\"], {\n        terria: terria,\n        location: this.location,\n        onPicking: this.onUserPickingLocation,\n        onPicked: this.onUserPickLocation\n      }), !isShowingDiff && /*#__PURE__*/_reactDom[\"default\"].createPortal(\n      /*#__PURE__*/\n      // Bottom Panel\n      _react[\"default\"].createElement(_Box[\"default\"], {\n        centered: true,\n        fullWidth: true,\n        flexWrap: true,\n        backgroundColor: theme.dark\n      }, /*#__PURE__*/_react[\"default\"].createElement(_DatePicker[\"default\"], {\n        heading: t(\"diffTool.labels.dateComparisonA\"),\n        item: this.props.leftItem,\n        externalOpenButton: this.openLeftDatePickerButton,\n        onDateSet: function onDateSet() {\n          return _this8.showItem(_this8.props.leftItem);\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(AreaFilterSelection, {\n        t: t,\n        location: this.location,\n        isPickingNewLocation: this._isPickingNewLocation\n      }), /*#__PURE__*/_react[\"default\"].createElement(_DatePicker[\"default\"], {\n        heading: t(\"diffTool.labels.dateComparisonB\"),\n        item: this.props.rightItem,\n        externalOpenButton: this.openRightDatePickerButton,\n        onDateSet: function onDateSet() {\n          return _this8.showItem(_this8.props.rightItem);\n        }\n      })), document.getElementById(\"TJS-BottomDockLastPortal\")));\n    }\n  }]);\n  return Main;\n}(_react[\"default\"].Component), (_descriptor4 = _applyDecoratedDescriptor(_class5.prototype, \"location\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, \"_locationPickError\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, \"_isPickingNewLocation\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class5.prototype, \"locationPickerMessages\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"locationPickerMessages\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffItem\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffItemName\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffItemName\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffableItemsInWorkbench\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffableItemsInWorkbench\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"previewStyle\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"previewStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffStyle\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"availableDiffStyles\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"availableDiffStyles\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"leftDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"leftDate\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"rightDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"rightDate\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffLegendUrl\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffLegendUrl\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"previewLegendUrl\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"previewLegendUrl\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"showItem\", [_mobx.action], Object.getOwnPropertyDescriptor(_class5.prototype, \"showItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"hideItem\", [_mobx.action], Object.getOwnPropertyDescriptor(_class5.prototype, \"hideItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"changeSourceItem\", [_dec2], Object.getOwnPropertyDescriptor(_class5.prototype, \"changeSourceItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"changePreviewStyle\", [_dec3], Object.getOwnPropertyDescriptor(_class5.prototype, \"changePreviewStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"changeDiffStyle\", [_dec4], Object.getOwnPropertyDescriptor(_class5.prototype, \"changeDiffStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"onUserPickingLocation\", [_dec5], Object.getOwnPropertyDescriptor(_class5.prototype, \"onUserPickingLocation\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"onUserPickLocation\", [_dec6], Object.getOwnPropertyDescriptor(_class5.prototype, \"onUserPickLocation\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"unsetDates\", [_dec7], Object.getOwnPropertyDescriptor(_class5.prototype, \"unsetDates\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"generateDiff\", [_dec8], Object.getOwnPropertyDescriptor(_class5.prototype, \"generateDiff\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"resetTool\", [_dec9], Object.getOwnPropertyDescriptor(_class5.prototype, \"resetTool\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"setLocationFromActiveSearch\", [_mobx.action], Object.getOwnPropertyDescriptor(_class5.prototype, \"setLocationFromActiveSearch\"), _class5.prototype)), _class5)) || _class4);\nvar DiffAccordionToggle = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool__DiffAccordionToggle\",\n  componentId: \"sc-3vyhxu-0\"\n})([\"\", \"\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.borderRadiusTop(theme.radius40Button);\n});\nvar DiffAccordion = function DiffAccordion(props) {\n  var _useState = (0, _react.useState)(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    showChildren = _useState2[0],\n    setShowChildren = _useState2[1];\n  var t = props.t,\n    viewState = props.viewState;\n  var theme = (0, _styledComponents.useTheme)();\n  return /*#__PURE__*/_react[\"default\"].createElement(DiffAccordionWrapper, {\n    isMapFullScreen: viewState.isMapFullScreen,\n    column: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(DiffAccordionToggle, {\n    paddedVertically: true,\n    paddedHorizontally: 2,\n    centered: true,\n    justifySpaceBetween: true,\n    backgroundColor: theme.colorSecondary\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    centered: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Icon.StyledIcon, {\n    styledWidth: \"20px\",\n    light: true,\n    glyph: _Icon.GLYPHS.difference\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    right: 1\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n    textLight: true,\n    semiBold: true\n    // font-size is non standard with what we have so far in terria,\n    // lineheight as well to hit nonstandard paddings\n    ,\n    styledFontSize: \"17px\",\n    styledLineHeight: \"30px\"\n  }, t(\"diffTool.title\"))), /*#__PURE__*/_react[\"default\"].createElement(_StyledBox, {\n    centered: true,\n    $_css3: \"margin-right:-5px;\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Button.RawButton, {\n    onClick: function onClick() {\n      return viewState.closeTool();\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n    textLight: true,\n    small: true,\n    semiBold: true,\n    uppercase: true\n  }, t(\"diffTool.exit\"))), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    right: 4\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Button.RawButton, {\n    onClick: function onClick() {\n      return setShowChildren(!showChildren);\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Box.BoxSpan, {\n    paddedRatio: 1,\n    centered: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Icon.StyledIcon, {\n    styledWidth: \"12px\",\n    light: true,\n    glyph: showChildren ? _Icon.GLYPHS.opened : _Icon.GLYPHS.closed\n  }))))), showChildren && props.children);\n};\nvar DiffAccordionWrapper = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  position: \"absolute\",\n  styledWidth: \"340px\"\n  // charcoalGreyBg: true\n}).withConfig({\n  displayName: \"DiffTool__DiffAccordionWrapper\",\n  componentId: \"sc-3vyhxu-1\"\n})([\"top:70px;left:0px;min-height:220px;margin-left:\", \"px;transition:margin-left 0.25s;\"], function (props) {\n  return props.isMapFullScreen ? 16 : parseInt(props.theme.workbenchWidth) + 40;\n});\nvar MainPanel = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  overflowY: \"auto\",\n  paddedRatio: 2\n}).withConfig({\n  displayName: \"DiffTool__MainPanel\",\n  componentId: \"sc-3vyhxu-2\"\n})([\"\", \" background-color:\", \";\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.borderRadiusBottom(theme.radius40Button);\n}, function (p) {\n  return p.theme.darkWithOverlay;\n});\nvar BackButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  secondary: true\n}).withConfig({\n  displayName: \"DiffTool__BackButton\",\n  componentId: \"sc-3vyhxu-3\"\n})([\"\"]);\nvar _StyledBackButton = (0, _styledComponents[\"default\"])(BackButton).withConfig({\n  displayName: \"DiffTool___StyledBackButton\",\n  componentId: \"sc-3vyhxu-4\"\n})([\"color:\", \";border-color:\", \";\"], function (p) {\n  return p.$_css;\n}, function (p) {\n  return p.$_css2;\n});\nvar CloseDifferenceButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).withConfig({\n  displayName: \"DiffTool__CloseDifferenceButton\",\n  componentId: \"sc-3vyhxu-5\"\n})([\"position:absolute;left:50%;transform:translateX(-50%);top:18px;padding:0 20px;\"]);\nvar GenerateButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  primary: true,\n  splitter: true,\n  fullWidth: true\n}).withConfig({\n  displayName: \"DiffTool__GenerateButton\",\n  componentId: \"sc-3vyhxu-6\"\n})([\"\"]);\nvar Selector = function Selector(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    fullWidth: true,\n    column: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", null, /*#__PURE__*/_react[\"default\"].createElement(_StyledText, {\n    textLight: true,\n    $_css4: \"p {margin: 0;}\"\n  }, (0, _parseCustomMarkdownToReact.parseCustomMarkdownToReactWithOptions)(\"\".concat(props.label, \":\"), {\n    injectTermsAsTooltips: true,\n    tooltipTerms: props.viewState.terria.configParameters.helpContentTerms\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    bottom: 1\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], props, props.children), props.spacingBottom && /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    bottom: 2\n  })));\n};\nvar AreaFilterSelection = function AreaFilterSelection(props) {\n  var t = props.t,\n    location = props.location,\n    isPickingNewLocation = props.isPickingNewLocation;\n  var locationText = \"-\";\n  if (location) {\n    var _prettifyCoordinates = (0, _prettifyCoordinates2[\"default\"])(location.longitude, location.latitude, {\n        digits: 2\n      }),\n      longitude = _prettifyCoordinates.longitude,\n      latitude = _prettifyCoordinates.latitude;\n    locationText = \"\".concat(longitude, \" \").concat(latitude);\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledBox2, {\n    column: true,\n    centered: true,\n    styledMinWidth: \"230px\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    centered: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Icon.StyledIcon, {\n    light: true,\n    styledWidth: \"16px\",\n    glyph: _Icon.GLYPHS.location2\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    right: 2\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n    textLight: true,\n    extraLarge: true\n  }, t(\"diffTool.labels.areaFilterSelection\"))), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    bottom: 3\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    styledMinHeight: \"40px\"\n  }, isPickingNewLocation ? /*#__PURE__*/_react[\"default\"].createElement(_StyledText2, {\n    textLight: true,\n    extraExtraLarge: true,\n    bold: true\n    // Using legacy Loader.jsx means we override at a higher level to inherit\n    // this fills tyle\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Loader[\"default\"], {\n    light: true,\n    message: \"Querying \".concat(location ? \"new\" : \"\", \" position...\")\n  })) : /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n    textLight: true,\n    bold: true,\n    heading: true,\n    textAlignCenter: true\n  }, locationText)));\n};\nvar LocationAndDatesDisplayBox = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  charcoalGreyBg: true\n}).withConfig({\n  displayName: \"DiffTool__LocationAndDatesDisplayBox\",\n  componentId: \"sc-3vyhxu-7\"\n})([\"color:\", \";padding:15px;> \", \":first-child{margin-bottom:13px;}> div > div:first-child{margin-right:5px;min-width:50px;}\"], function (p) {\n  return p.theme.textLight;\n}, _Box[\"default\"]);\nvar LegendImage = function LegendImage(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(\"img\", _extends({}, props, {\n    // Show the legend only if it loads successfully, so we start out hidden\n    style: {\n      display: \"none\",\n      marginTop: \"4px\"\n    }\n    // @ts-ignore\n    ,\n    onLoad: function onLoad(e) {\n      return e.target.style.display = \"block\";\n    }\n    // @ts-ignore\n    ,\n    onError: function onError(e) {\n      return e.target.style.display = \"none\";\n    }\n  }));\n};\nfunction createSplitItem(_x2, _x3) {\n  return _createSplitItem.apply(this, arguments);\n}\n/**\n * If the item has only one available diff style, auto-select it\n */\nfunction _createSplitItem() {\n  _createSplitItem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(sourceItem, splitDirection) {\n    var terria, ref;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          terria = sourceItem.terria;\n          ref = new _SplitItemReference[\"default\"]((0, _createGuid[\"default\"])(), terria);\n          ref.setTrait(_CommonStrata[\"default\"].user, \"splitSourceItemId\", sourceItem.uniqueId);\n          terria.addModel(ref);\n          _context3.next = 6;\n          return ref.loadReference();\n        case 6:\n          return _context3.abrupt(\"return\", (0, _mobx.runInAction)(function () {\n            var _newItem$styleSelecta;\n            if (ref.target === undefined) {\n              throw Error(\"failed to split item\");\n            }\n            var newItem = ref.target;\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"show\", true);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", splitDirection);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"initialTimeSource\", \"none\");\n            if (hasOpacity(newItem)) {\n              // We want to show the item on the map only after date selection. At the\n              // same time we cannot set `show` to false because if we\n              // do so, date picking which relies on feature picking, will not work. So\n              // we simply set the opacity of the item to 0.\n              newItem.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0);\n            }\n            setDefaultDiffStyle(newItem);\n\n            // Set the default style to true color style if it exists\n            var trueColor = (_newItem$styleSelecta = newItem.styleSelectableDimensions) === null || _newItem$styleSelecta === void 0 || (_newItem$styleSelecta = _newItem$styleSelecta[0]) === null || _newItem$styleSelecta === void 0 || (_newItem$styleSelecta = _newItem$styleSelecta.options) === null || _newItem$styleSelecta === void 0 ? void 0 : _newItem$styleSelecta.find(function (style) {\n              return (0, _isDefined[\"default\"])(style.name) && style.name.search(/true/i) >= 0;\n            });\n            if (trueColor !== null && trueColor !== void 0 && trueColor.id) {\n              var _newItem$styleSelecta2;\n              (_newItem$styleSelecta2 = newItem.styleSelectableDimensions) === null || _newItem$styleSelecta2 === void 0 || (_newItem$styleSelecta2 = _newItem$styleSelecta2[0]) === null || _newItem$styleSelecta2 === void 0 ? void 0 : _newItem$styleSelecta2.setDimensionValue(_CommonStrata[\"default\"].user, trueColor.id);\n            }\n            terria.overlays.add(newItem);\n            return newItem;\n          }));\n        case 7:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _createSplitItem.apply(this, arguments);\n}\nfunction setDefaultDiffStyle(item) {\n  if (item.diffStyleId !== undefined) {\n    return;\n  }\n  var availableStyles = (0, _filterOutUndefined[\"default\"])(item.availableDiffStyles.map(function (diffStyleId) {\n    var _item$styleSelectable;\n    return (_item$styleSelectable = item.styleSelectableDimensions) === null || _item$styleSelectable === void 0 || (_item$styleSelectable = _item$styleSelectable[0]) === null || _item$styleSelectable === void 0 || (_item$styleSelectable = _item$styleSelectable.options) === null || _item$styleSelectable === void 0 ? void 0 : _item$styleSelectable.find(function (style) {\n      return style.id === diffStyleId;\n    });\n  }));\n  if (availableStyles.length === 1) {\n    item.setTrait(_CommonStrata[\"default\"].user, \"diffStyleId\", availableStyles[0].id);\n  }\n}\nfunction removeSplitItem(item) {\n  var terria = item.terria;\n  terria.overlays.remove(item);\n  if (item.sourceReference && terria.workbench.contains(item) === false) {\n    terria.removeModelReferences(item.sourceReference);\n  }\n}\nfunction doesFeatureBelongToItem(feature, item) {\n  var _feature$imageryLayer;\n  if (!_MappableMixin[\"default\"].isMixedInto(item)) return false;\n  var imageryProvider = (_feature$imageryLayer = feature.imageryLayer) === null || _feature$imageryLayer === void 0 ? void 0 : _feature$imageryLayer.imageryProvider;\n  if (imageryProvider === undefined) return false;\n  return item.mapItems.find(function (m) {\n    return _MappableMixin.ImageryParts.is(m) && m.imageryProvider === imageryProvider;\n  }) !== undefined;\n}\nfunction setTimeFilterFromLocation(item, location, im) {\n  var carto = new _Cartographic[\"default\"](_Math[\"default\"].toRadians(location.longitude), _Math[\"default\"].toRadians(location.latitude));\n  // We just need to set this to a high enough level supported by the service\n  var level = 30;\n  var tile = im.tilingScheme.positionToTileXY(carto, level);\n  return item.setTimeFilterFromLocation({\n    position: {\n      latitude: location.latitude,\n      longitude: location.longitude,\n      height: location.height\n    },\n    tileCoords: {\n      x: tile.x,\n      y: tile.y,\n      level: level\n    }\n  });\n}\nfunction hasOpacity(model) {\n  return (0, _hasTraits[\"default\"])(model, _ImageryProviderTraits[\"default\"], \"opacity\");\n}\nvar _default = (0, _hoistNonReactStatics[\"default\"])((0, _reactI18next.withTranslation)()((0, _styledComponents.withTheme)(DiffTool)), DiffTool);\nexports[\"default\"] = _default;\nvar _StyledStyledIcon = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DiffTool___StyledStyledIcon\",\n  componentId: \"sc-3vyhxu-8\"\n})([\"transform:rotate(90deg);\"]);\nvar _StyledBox = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledBox\",\n  componentId: \"sc-3vyhxu-9\"\n})([\"\", \"\"], function (p) {\n  return p.$_css3;\n});\nvar _StyledText = (0, _styledComponents[\"default\"])(_Text[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledText\",\n  componentId: \"sc-3vyhxu-10\"\n})([\"\", \"\"], function (p) {\n  return p.$_css4;\n});\nvar _StyledBox2 = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledBox2\",\n  componentId: \"sc-3vyhxu-11\"\n})([\"@media (max-width:\", \"px){width:100%;}\"], function (props) {\n  return props.theme.md;\n});\nvar _StyledText2 = (0, _styledComponents[\"default\"])(_Text[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledText2\",\n  componentId: \"sc-3vyhxu-12\"\n})([\"fill:\", \";\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.textLight;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nrequire(\"core-js/modules/es.array.for-each.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.array.reverse.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.object.set-prototype-of.js\");\nrequire(\"core-js/modules/es.function.bind.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.object.create.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.date.to-iso-string.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _mobx = require(\"mobx\");\nvar _mobxReact = require(\"mobx-react\");\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactI18next = require(\"react-i18next\");\nvar _JulianDate = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/JulianDate\"));\nvar _CommonStrata = _interopRequireDefault(require(\"../../../Models/Definition/CommonStrata\"));\nvar _DateFormats = require(\"../../BottomDock/Timeline/DateFormats\");\nvar _Icon = _interopRequireWildcard(require(\"../../../Styled/Icon\"));\nvar _DateTimePicker = _interopRequireDefault(require(\"../../BottomDock/Timeline/DateTimePicker\"));\nvar _Text = _interopRequireWildcard(require(\"../../../Styled/Text\"));\nvar _Box = _interopRequireDefault(require(\"../../../Styled/Box\"));\nvar _Button = _interopRequireDefault(require(\"../../../Styled/Button\"));\nvar _Spacing = _interopRequireDefault(require(\"../../../Styled/Spacing\"));\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor;\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nvar dateFormat = require(\"dateformat\");\nvar DatePicker = (_dec = _mobx.action.bound, _dec2 = _mobx.action.bound, _dec3 = _mobx.action.bound, _dec4 = _mobx.action.bound, _dec5 = _mobx.action.bound, _dec6 = _mobx.action.bound, (0, _mobxReact.observer)(_class = (_class2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(DatePicker, _React$Component);\n  var _super = _createSuper(DatePicker);\n  function DatePicker(props) {\n    var _this;\n    _classCallCheck(this, DatePicker);\n    _this = _super.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"isOpen\", _descriptor, _assertThisInitialized(_this));\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(DatePicker, [{\n    key: \"currentDate\",\n    get: function get() {\n      var date = this.props.item.currentDiscreteJulianDate;\n      return date && _JulianDate[\"default\"].toDate(date);\n    }\n  }, {\n    key: \"formattedCurrentDate\",\n    get: function get() {\n      if (this.currentDate === undefined) {\n        return;\n      }\n      var dateFormatting = undefined; // TODO\n      var formattedDate = dateFormatting !== undefined ? dateFormat(this.currentDate, dateFormatting) : (0, _DateFormats.formatDateTime)(this.currentDate);\n      return formattedDate;\n    }\n  }, {\n    key: \"toggleOpen\",\n    value: function toggleOpen(e) {\n      this.isOpen = !this.isOpen;\n      // stopPropagation is required to prevent the datetime picker popup from closing when\n      // the date button is clicked\n      e.stopPropagation();\n    }\n  }, {\n    key: \"setIsOpen\",\n    value: function setIsOpen(isOpen) {\n      this.isOpen = isOpen;\n    }\n  }, {\n    key: \"changeCurrentDate\",\n    value: function changeCurrentDate(date) {\n      this.props.item.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", date.toISOString());\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"moveToPreviousDate\",\n    value: function moveToPreviousDate() {\n      this.props.item.moveToPreviousDiscreteTime(_CommonStrata[\"default\"].user);\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"moveToNextDate\",\n    value: function moveToNextDate() {\n      this.props.item.moveToNextDiscreteTime(_CommonStrata[\"default\"].user);\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"onClickExternalButton\",\n    value: function onClickExternalButton(event) {\n      this.setIsOpen(true);\n      // stopPropagation is required to prevent the datetime picker popup from closing when\n      // the external button is clicked\n      event.stopPropagation();\n    }\n  }, {\n    key: \"registerExternalButtonClick\",\n    value: function registerExternalButtonClick() {\n      var _this$props$externalO;\n      (_this$props$externalO = this.props.externalOpenButton.current) === null || _this$props$externalO === void 0 ? void 0 : _this$props$externalO.addEventListener(\"click\", this.onClickExternalButton);\n    }\n  }, {\n    key: \"unregisterExternalButtonClick\",\n    value: function unregisterExternalButtonClick(externalOpenButton) {\n      var _externalOpenButton$c;\n      (_externalOpenButton$c = externalOpenButton.current) === null || _externalOpenButton$c === void 0 ? void 0 : _externalOpenButton$c.removeEventListener(\"click\", this.onClickExternalButton);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.registerExternalButtonClick();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.unregisterExternalButtonClick(prevProps.externalOpenButton);\n      this.registerExternalButtonClick();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unregisterExternalButtonClick(this.props.externalOpenButton);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        heading = _this$props.heading,\n        item = _this$props.item,\n        t = _this$props.t;\n      return /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n        column: true,\n        centered: true,\n        flex: 1\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n        centered: true\n      }, /*#__PURE__*/_react[\"default\"].createElement(_StyledStyledIcon, {\n        light: true,\n        styledWidth: \"21px\",\n        glyph: _Icon[\"default\"].GLYPHS.calendar2,\n        $_css: \"margin-top:-2px;\"\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        right: 2\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        textLight: true,\n        extraLarge: true\n      }, heading)), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 2\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(PrevButton, {\n        disabled: item.isPreviousDiscreteTimeAvailable === false,\n        title: t(\"diffTool.datePicker.previousDateTitle\"),\n        onClick: this.moveToPreviousDate\n      }), /*#__PURE__*/_react[\"default\"].createElement(DateButton, {\n        primary: true,\n        isOpen: this.isOpen,\n        onClick: this.toggleOpen,\n        title: t(\"diffTool.datePicker.dateButtonTitle\")\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        extraLarge: true\n      }, this.formattedCurrentDate || \"-\")), /*#__PURE__*/_react[\"default\"].createElement(NextButton, {\n        disabled: item.isNextDiscreteTimeAvailable === false,\n        title: t(\"diffTool.datePicker.nextDateTitle\"),\n        onClick: this.moveToNextDate\n      })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: {\n          display: this.isOpen ? \"block\" : \"none\",\n          position: \"absolute\"\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(_DateTimePicker[\"default\"], {\n        currentDate: this.currentDate,\n        dates: this.props.item.objectifiedDates,\n        onChange: this.changeCurrentDate,\n        openDirection: \"none\",\n        isOpen: this.isOpen,\n        onOpen: function onOpen() {\n          return _this2.setIsOpen(true);\n        },\n        onClose: function onClose() {\n          return _this2.setIsOpen(false);\n        }\n      })), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }));\n    }\n  }]);\n  return DatePicker;\n}(_react[\"default\"].Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"isOpen\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class2.prototype, \"currentDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"currentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"formattedCurrentDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"formattedCurrentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"toggleOpen\", [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, \"toggleOpen\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"setIsOpen\", [_dec2], Object.getOwnPropertyDescriptor(_class2.prototype, \"setIsOpen\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"changeCurrentDate\", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, \"changeCurrentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"moveToPreviousDate\", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, \"moveToPreviousDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"moveToNextDate\", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, \"moveToNextDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onClickExternalButton\", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, \"onClickExternalButton\"), _class2.prototype)), _class2)) || _class);\nvar PagerButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  iconProps: {\n    css: \"margin-right:0;\"\n  }\n}).withConfig({\n  displayName: \"DatePicker__PagerButton\",\n  componentId: \"sc-11kes1x-0\"\n})([\"cursor:pointer;background-color:\", \";width:40px;border:1px solid transparent;\", \" flex-direction:column;\"], function (props) {\n  return props.theme.colorPrimary;\n}, function (_ref) {\n  var theme = _ref.theme;\n  return theme.centerWithFlex();\n});\nvar PrevButton = (0, _styledComponents[\"default\"])(PagerButton).attrs({\n  renderIcon: function renderIcon() {\n    return /*#__PURE__*/_react[\"default\"].createElement(_StyledStyledIcon2, {\n      light: true,\n      styledWidth: \"15px\",\n      glyph: _Icon[\"default\"].GLYPHS.arrowDown\n    });\n  }\n}).withConfig({\n  displayName: \"DatePicker__PrevButton\",\n  componentId: \"sc-11kes1x-1\"\n})([\"\", \" margin-right:1px;\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.borderRadiusLeft(theme.radius40Button);\n});\nvar NextButton = (0, _styledComponents[\"default\"])(PagerButton).attrs({\n  renderIcon: function renderIcon() {\n    return /*#__PURE__*/_react[\"default\"].createElement(_StyledStyledIcon3, {\n      light: true,\n      styledWidth: \"15px\",\n      glyph: _Icon[\"default\"].GLYPHS.arrowDown\n    });\n  }\n}).withConfig({\n  displayName: \"DatePicker__NextButton\",\n  componentId: \"sc-11kes1x-2\"\n})([\"\", \" margin-left:1px;\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.borderRadiusRight(theme.radius40Button);\n});\nvar DateButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).withConfig({\n  displayName: \"DatePicker__DateButton\",\n  componentId: \"sc-11kes1x-3\"\n})([\"z-index:0;\", \";border-radius:0px;border:1px solid \", \";min-width:235px;@media (max-width:\", \"px){min-width:150px;}\"], function (props) {\n  return props.isOpen && \"z-index: 1000;\";\n}, function (props) {\n  return props.theme.colorPrimary;\n}, function (props) {\n  return props.theme.lg;\n});\nvar _default = (0, _reactI18next.withTranslation)()(DatePicker);\nexports[\"default\"] = _default;\nvar _StyledStyledIcon = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon\",\n  componentId: \"sc-11kes1x-4\"\n})([\"\", \"\"], function (p) {\n  return p.$_css;\n});\nvar _StyledStyledIcon2 = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon2\",\n  componentId: \"sc-11kes1x-5\"\n})([\"transform:rotate(90deg);\"]);\nvar _StyledStyledIcon3 = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon3\",\n  componentId: \"sc-11kes1x-6\"\n})([\"transform:rotate(270deg);\"]);","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.date.to-string.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.array.for-each.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.array.reverse.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.object.set-prototype-of.js\");\nrequire(\"core-js/modules/es.function.bind.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.object.create.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.array.is-array.js\");\nvar _mobx = require(\"mobx\");\nvar _mobxReact = require(\"mobx-react\");\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _Ellipsoid = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Ellipsoid\"));\nvar _Math = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Math\"));\nvar _LocationMarkerUtils = require(\"../../../Models/LocationMarkerUtils\");\nvar _MapInteractionMode = _interopRequireWildcard(require(\"../../../Models/MapInteractionMode\"));\nvar _Loader = _interopRequireDefault(require(\"../../Loader\"));\nvar _class, _class2, _descriptor, _descriptor2, _descriptor3;\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar LocationPicker = (0, _mobxReact.observer)(_class = (_class2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(LocationPicker, _React$Component);\n  var _super = _createSuper(LocationPicker);\n  function LocationPicker(props) {\n    var _this;\n    _classCallCheck(this, LocationPicker);\n    _this = _super.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"pickMode\", _descriptor, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"currentPick\", _descriptor2, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"pickDisposer\", _descriptor3, _assertThisInitialized(_this));\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(LocationPicker, [{\n    key: \"setupPicker\",\n    value: function setupPicker() {\n      var _this2 = this;\n      var _this$props = this.props,\n        terria = _this$props.terria,\n        location = _this$props.location,\n        onPicking = _this$props.onPicking,\n        onPicked = _this$props.onPicked;\n      this.pickMode = new _MapInteractionMode[\"default\"]({\n        message: \"\",\n        messageAsNode: /*#__PURE__*/_react[\"default\"].createElement(\"div\", null),\n        uiMode: _MapInteractionMode.UIMode.Difference\n      });\n      addInteractionModeToMap(terria, this.pickMode);\n      if (location) showMarker(terria, location);\n      this.pickDisposer = (0, _mobx.reaction)(function () {\n        return _this2.pickMode.pickedFeatures;\n      }, (0, _mobx.action)(function (newPick) {\n        var _newPick$allFeaturesA;\n        if (newPick === undefined || newPick.pickPosition === undefined) {\n          return;\n        }\n        _this2.pickMode.customUi = function () {\n          return /*#__PURE__*/_react[\"default\"].createElement(_Loader[\"default\"], {\n            message: \"Querying \".concat(location ? \"new\" : \"\", \" position...\")\n          });\n        };\n        var position = cartesianToDegrees(newPick.pickPosition);\n        showMarker(_this2.props.terria, position);\n        _this2.currentPick = newPick;\n        onPicking(position);\n        (_newPick$allFeaturesA = newPick.allFeaturesAvailablePromise) === null || _newPick$allFeaturesA === void 0 ? void 0 : _newPick$allFeaturesA.then(function () {\n          if (newPick === _this2.currentPick) {\n            onPicked(newPick, position);\n          }\n        });\n      }));\n    }\n  }, {\n    key: \"destroyPicker\",\n    value: function destroyPicker() {\n      var _this$pickDisposer;\n      var terria = this.props.terria;\n      if (this.pickMode) {\n        removeInteractionModeFromMap(terria, this.pickMode);\n      }\n      (0, _LocationMarkerUtils.removeMarker)(terria);\n      this.pickMode = undefined;\n      this.currentPick = undefined;\n      (_this$pickDisposer = this.pickDisposer) === null || _this$pickDisposer === void 0 ? void 0 : _this$pickDisposer.call(this);\n      this.pickDisposer = undefined;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupPicker();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.destroyPicker();\n      this.setupPicker();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyPicker();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return LocationPicker;\n}(_react[\"default\"].Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"pickMode\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"currentPick\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"pickDisposer\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"setupPicker\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"setupPicker\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"destroyPicker\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"destroyPicker\"), _class2.prototype)), _class2)) || _class;\nexports[\"default\"] = LocationPicker;\nfunction addInteractionModeToMap(terria, mode) {\n  terria.mapInteractionModeStack.push(mode);\n}\nfunction removeInteractionModeFromMap(terria, mode) {\n  var _terria$mapInteractio = terria.mapInteractionModeStack.slice(-1),\n    _terria$mapInteractio2 = _slicedToArray(_terria$mapInteractio, 1),\n    currentMode = _terria$mapInteractio2[0];\n  if (currentMode === mode) {\n    terria.mapInteractionModeStack.pop();\n  }\n}\nfunction showMarker(terria, location) {\n  (0, _LocationMarkerUtils.addMarker)(terria, {\n    name: \"User selection\",\n    location: location,\n    customMarkerIcon: require(\"../../../../wwwroot/images/difference-pin.png\")\n  });\n}\nfunction cartesianToDegrees(cartesian) {\n  var carto = _Ellipsoid[\"default\"].WGS84.cartesianToCartographic(cartesian);\n  return {\n    longitude: _Math[\"default\"].toDegrees(carto.longitude),\n    latitude: _Math[\"default\"].toDegrees(carto.latitude)\n  };\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAA2CAYAAAAyEzKAAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAANgAAAAAbYi+LAAADOUlEQVRYCe1YPWgUQRT+3pEoqEWilSRBjSGNWKhga7DwBwTRKgqChXVM0igKGhRMFCXRQhsbFWOlIAhBm5ythRaCmCBGBAmIwRSx0EjW783tbnb3Zvbn7gqLe7A3M9977/tm3s7OLidIMW8QuyE4ihW2wA5em3it5/WL+A94+IAS3rJ9LhNsHSZJ3POYPoSTxC8xuTfpd44Fs/RdwTgmRZgZsZiIN4QOup/x2huJKdYVvOE0j8s4vgWJoQgFdpJ8ildH4Ky5FQoIDlPovXIYEW8EG7CIdxToqZk4mSj4hDbskhEslYxvETcbKqCkOmHlpQnLtJHAPK81CjTUBH9Yq80tJO3PJSD4wthH3LKz3NK6604xbytbt+nEBf0tDDzkjgo9L1jfE1rfAOF9vIGfeMLxkQCztuTXe9Jlda6CC1iH01EBdZkxcXYXdJxiXSrSmRKgrrKM2ol8vJyR36kieky4TfDd7aQny0/+Eu/Jx1QSYE9dfvLrSqZSSXjEcJsfs8UYPPsImtLnpIdbUg+38IipIhSeusA5dOO+DOC3dwdr8RlniF1nJdLK7XHL91aOlUFMM7ivirwaWCb0ldPZwnh9xrJsWm5jv5ZLj4C7WdG+v5Xt9pwCmnJPfyoi7XjK2c0o0DBTPuWlGRE+WCuc3bWGCSgR+QxvIGLI2zHJds706/+Z4yqUz1ilXOxS9S9LdtnH62vIY/h8llDEjNvwmELmbVaziuYrT8RiIqaGJZyP+It3mW94IpnWB5CfQmXeuH2RuHxdwWt+GvUlg2MriTiHWbaVyDi7W4kftgVaRfwPtYe2BCfm4YHrA88q4hNdYBu+CZ3kFccSV37RFeMU4azmmTjmSozhJYya+Bi4OnCKmJBuftIIz9s0U/823EoLSRXRY50i1psZktJv4kKgumPdwskwbumX3NIHkjgn8IplOliFJ4DUlYSxHgbY13dJ1JYprHim5RLhi2eG5/VEjI1jg8dA+yCXiEltxdUYRXIcc8YHue5JkOKdZYF84ypy5+ZfScBeQ9sUKVS0Zrma5SpUgULBzd3VLFehChQK/g93l/7roxa0OddTbCWe+f9qiS9h8z9WTg38A1O1vXOERmoNAAAAAElFTkSuQmCC\""],"sourceRoot":""}